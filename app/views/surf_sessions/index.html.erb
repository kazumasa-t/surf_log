<h1>Surf Log</h1>

<p><%= notice %></p>

<%= month_calendar do |date| %>
  <% sessions = (@sessions_by_date || {})[date] || [] %>
  <% existing = sessions.first %>

  <div>
    <% if existing %>
      <%= link_to date.day, edit_surf_session_path(existing) %>
      <div style="font-size: 12px; margin-top: 4px;">● <%= (existing.duration_minutes.to_i / 60.0).round(1) %>h</div>
    <% else %>
      <%= link_to date.day, new_surf_session_path(surf_session: { session_date: date }) %>
    <% end %>
  </div>
<% end %>



